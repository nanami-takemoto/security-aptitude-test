<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1d4ed8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:;">
    <title>職種一覧 - セキュリティ適職診断</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <nav class="sticky-nav shadow-md">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="index.html" class="text-xl font-semibold text-blue-500">セキュリティ適職診断</a>
            <div class="space-x-4">
                <a href="index.html#purpose" class="nav-link">目的</a>
                <a href="index.html#diagnosis-tool" class="nav-link">診断を試す</a>
                <a href="jobs.html" class="nav-link font-semibold">職種一覧</a>
            </div>
        </div>
    </nav>

    <header class="text-center py-8 bg-[#fef9c3]">
        <h1 class="text-3xl font-bold text-blue-500">職種一覧</h1>
        <p class="mt-2 text-neutral-700">セキュリティ分野の主な職種と説明です</p>
    </header>

    <main class="container mx-auto px-6 py-8">
        <div id="jobList" class="space-y-0">
            <!-- 職種一覧は data.js 読み込み後に script で描画 -->
        </div>
    </main>

    <footer class="bg-neutral-800 text-neutral-300 py-8 text-center mt-12">
        <p>&copy; 2025 LCL-Tokyo WG セキュリティ適職診断プロジェクトチーム</p>
    </footer>

    <script src="data.js"></script>
    <script>
        (function() {
            var container = document.getElementById('jobList');
            if (!container || typeof jobDescriptions === 'undefined') return;

            var imageMap = typeof jobResultImages !== 'undefined' ? jobResultImages : {};
            var order = ['CEO', 'CISO', '脆弱性診断士・ペネトレーションテスト', 'SOC/CSIRT', 'Security Analysts', 'フォレンジクス', 'セキュリティーソリューション開発エンジニア', '技術営業', 'セキュリティコンサルタント'];

            order.forEach(function(jobName) {
                var desc = jobDescriptions[jobName];
                var imgPath = imageMap[jobName] || '';
                if (!desc) return;

                var section = document.createElement('section');
                section.className = 'py-10 border-b border-neutral-200 last:border-b-0';
                section.setAttribute('aria-labelledby', 'job-title-' + jobName.replace(/\s/g, '-'));

                var row = document.createElement('div');
                row.className = 'flex flex-col md:flex-row gap-6 md:gap-10 items-start';

                var imgCol = document.createElement('div');
                imgCol.className = 'w-full md:w-80 flex-shrink-0';
                if (imgPath) {
                    var img = document.createElement('img');
                    img.src = imgPath;
                    img.alt = jobName + 'のイラスト';
                    img.className = 'w-full max-w-sm rounded-lg shadow-md object-contain';
                    imgCol.appendChild(img);
                } else {
                    imgCol.innerHTML = '<div class="w-full aspect-square max-w-sm bg-white border border-neutral-200 rounded-lg flex items-center justify-center text-neutral-500 text-sm">画像なし</div>';
                }
                row.appendChild(imgCol);

                var textCol = document.createElement('div');
                textCol.className = 'flex-1 min-w-0';
                var title = document.createElement('h2');
                title.id = 'job-title-' + jobName.replace(/\s/g, '-');
                title.className = 'text-2xl font-bold text-blue-500 mb-4';
                title.textContent = jobName;
                textCol.appendChild(title);
                var descBlock = document.createElement('div');
                descBlock.className = 'p-4 bg-white border border-neutral-200 rounded-lg text-neutral-700 text-base whitespace-pre-line';
                descBlock.textContent = desc;
                textCol.appendChild(descBlock);
                row.appendChild(textCol);

                section.appendChild(row);
                container.appendChild(section);
            });
        })();
    </script>
</body>
</html>
